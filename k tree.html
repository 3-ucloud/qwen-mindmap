<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Own Cloud ‚Äì Tree-First Demo</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Ant Design Tree via CDN -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/antd@5/dist/antd-with-locales.min.js"></script>
  <link  href="https://unpkg.com/antd@5/dist/reset.css" rel="stylesheet" />

  <!-- Apple font & global styles -->
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;
      background: #f5f5f5;
      color: #333;
    }
  </style>
</head>

<body>
  <div id="root" class="w-screen h-screen"></div>

  <script type="text/babel">
    const { useState } = React;
    const { Tree } = antd;

    /* ---------- STATIC TREE ---------- */
    const treeData = [
      {
        title: 'üì± Phone',
        key: 'phone',
        children: [
          { title: <span>Photos <span className="text-sky-700">‚úî</span></span>, key: 'phone-photos' },
          { title: <span>Docs  <span className="text-sky-500">‚è≥</span></span>, key: 'phone-docs' },
        ],
      },
      {
        title: '‚òÅÔ∏è Google Drive',
        key: 'gdrive',
        children: [
          { title: <span>Reports <span className="text-neutral-400">‚¨ú</span></span>, key: 'drive-reports' },
        ],
      },
    ];

    /* ---------- MINI-MAP SVG ---------- */
    const MiniMap = ({ nodeKey }) => (
      <div className="w-[250px] h-[250px] bg-white/60 backdrop-blur rounded-xl shadow-[0_1px_4px_rgba(0,0,0,0.05)] border border-neutral-300 p-4 flex items-center justify-center">
        <svg viewBox="0 0 100 100" className="w-full h-full">
          {/* Hub */}
          <circle cx="50" cy="50" r="12" fill="#0ea5e9" />
          <text x="50" y="52" textAnchor="middle" className="text-[10px] fill-white font-semibold">
            Hub
          </text>

          {/* Selected node */}
          {nodeKey && (
            <>
              <circle cx="75" cy="30" r="8" fill="#0369a1" />
              <text x="75" y="32" textAnchor="middle" className="text-[8px] fill-white font-semibold">
                {nodeKey.split('-')[0]}
              </text>
              <line x1="62" y1="38" x2="50" y2="50" stroke="#0369a1" strokeWidth="1" />
            </>
          )}
        </svg>
      </div>
    );

    /* ---------- MAIN COMPONENT ---------- */
    function App() {
      const [selected, setSelected] = useState(null);

      return (
        <main className="flex w-screen h-screen">
          {/* Left tree panel */}
          <aside className="w-[320px] border-r border-neutral-300 bg-white/70 backdrop-blur p-6">
            <h1 className="text-xl font-semibold mb-4">Sources</h1>
            <Tree
              treeData={treeData}
              defaultExpandAll
              selectedKeys={selected ? [selected] : []}
              onSelect={(keys) => setSelected(keys[0])}
              blockNode
              style={{ background: 'transparent' }}
              className="text-sm"
            />
          </aside>

          {/* Right mini-map */}
          <section className="flex-1 flex items-center justify-center">
            <MiniMap nodeKey={selected} />
          </section>
        </main>
      );
    }

    /* ---------- MOUNT ---------- */
    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>

  <!-- Babel for JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</body>
</html>
